<!doctype html>
<html>
<head>
    <title>MINDFUL YOGI</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/daisyui@2.51.6/dist/full.css" rel="stylesheet" type="text/css" />
    <!-- Core Stylesheet -->
<link rel="stylesheet" href="/evo-calendar.min.css" />
<!-- Optional Themes -->
<link rel="stylesheet" href="/evo-calendar.midnight-blue.min.css" />
<!-- <link rel="stylesheet" href="evo-calendar.orange-coral.css" />
<link rel="stylesheet" href="evo-calendar.royal-navy.css" /> -->
<!-- JavaScript -->
<script src="/jquery-3.6.4.slim.min.js"></script>
<script src="/evo-calendar.min.js"></script>
</head>
<body>
  <header class="page-header">
    <div id="profileHeader" class="main">
      <h1>This is purely: <div class="roller">
        <span id="rolltext"><br/>
        YOGA<br/>
        MINFDULNESS<br/>
        <span id="spare-time">TRACK YOUR JOURNEY</span><br/>
        </div>
      </h1>
      </div>
  </header>
  <div class="drawer drawer-mobile">
    <input id="my-drawer-2" type="checkbox" class="drawer-toggle" />
    <div class="drawer-content flex flex-col items-center justify-center"> 
      <!-- Page content here -->
      <label for="my-drawer-2" class="btn btn-primary drawer-button lg:hidden">Navigate</label>
    </div> 
    <div class="drawer-side">
      <label for="my-drawer-2" class="drawer-overlay"></label> 
      <ul class="menu p-4 w-80 bg-base-100 text-base-content"> 
        Sidebar content here
        <li><a href="/tracker">Daily Log</a></li>
        <li><a href="/analytics">Analytics</a></li>
        <li><a href="/videos">My Videos</a></li>
        <li><a href="/chat">Chat</a></li>
        <li><a href="/friends">Friends</a></li>
        <li><a href="/search">Search</a></li>
      </ul>
    </div>
  </div>
  <!-- <div class="stats shadow"> -->
  <div id="evoCalendar"></div>

  <div class="alert alert-info" role="alert">
    Mindful Yogi is a comprehensive yoga and fitness app that allows you to log your daily exercises, save yoga practice videos, connect with friends, find local yoga studios, and track your daily exercise progress.
  </div> 

  <%
  function getFormattedDay(date) {
    let options = { day: '2-digit', timeZone: 'America/New_York' };
    //return Number(date.toLocaleString('en-US', options).split(',')[0]);
    console.log(date, date.getDate())
    return date.getDate() + 1
  }  
  let today = new Date()
  let currentMonth = today.getMonth()
  %>

  
<!-- the array being passed to the server must go where the conditional is -->
  <section class="dailySquares">
    <%for(let i=1; i <= 31; i++){ 
      const logsForThisDay = trackerLogs.filter(log => log.date.getMonth() === currentMonth && log.date.getDate() + 1 === i )
      let logCount = logsForThisDay.length
      let colorClass = ''
      if(logCount > 5){
        colorClass = 'squareComplete5'
      } else if(logCount > 3){
        colorClass = 'squareComplete3'
      } else if(logCount > 0){
        colorClass = 'squareComplete'
      }
      console.log(logCount, colorClass)
      %>
      <section class="square <%=colorClass%>"></section>
    <% } %>  
  </section>

  
 

<script src="https://cdn.tailwindcss.com"></script>
<script type="text/javascript" src="/main.js"></script>
</body> 
</html>
